{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./wwwroot/js/raceEditor.js","webpack:///external \"bootstrap\"","webpack:///external \"window[\\\"bootstrap-select\\\"]\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","checkEnter","e","ev","event","test","srcElement","tagName","keyCode","which","charCode","initialize","document","querySelector","onkeypress","change","loadFleet","val","now","Date","setMinutes","getMinutes","getTimezoneOffset","toISOString","substring","loadSeriesOptions","raceStateChanged","on","calculatePlaces","moveUp","moveDown","confirmDelete","addNewCompetitorFromButton","click","deleteResult","hideScoreButtonFooter","submit","compCreateSubmit","preventDefault","form","resultItems","getElementById","getElementsByTagName","length","listIndex","toString","input","createElement","type","getAttribute","appendChild","shouldCompKeepScore","getCompetitorCode","getCompetitorCodePoints","addScoresFieldsToForm","this","find","remove","removeScoresFieldsFromForm","prop","clubId","date","getJSON","data","seriesOptions","seriesSelect","selectedSeriesValues","empty","each","series","append","attr","id","text","selectpicker","setSeries","getSeries","fleetId","sel","boatClassId","options","selectedIndex","getCompetitors","state","initials","icon","description","windSpeed","windGust","windDirection","temperature","humidity","cloudCoverPercent","show","url","ajax","beforeSend","xhr","setRequestHeader","serialize","success","completeCompCreate","error","completeCompCreateFailed","hide","modal","hideAlert","btn","target","resultItem","closest","prev","insertAfter","next","insertBefore","compId","updateButtonFooter","compName","HTMLButtonElement","competitorId","dataset","addNewCompetitor","allCompetitors","competitor","resultDiv","compListItem","cloneNode","setAttribute","span","getElementsByClassName","createTextNode","sailNumber","alternativeSailNumber","style","display","deleteButtons","animate","scrollTop","offset","top","initializeAutoComplete","scoreCount","len","origScore","textContent","removeAttribute","codepointsinput","shouldHaveManualEntry","competitorIsInResults","comp","competitorSuggestions","forEach","initializeButtonFooter","autoCompleteSetup","push","getSuggestions","autocomplete","dispose","lookup","onSelect","suggestion","autoSelectFirst","triggerSelectOnValidInput","noCache","codeText","codePoints","scoreCodes","filter","formula","bootstrap","window"],"mappings":"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","file":"raceEditor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = jQuery;","/// <reference path=\"../node_modules/devbridge-autocomplete/typings/jquery-autocomplete/jquery.autocomplete.d.ts\" />\r\n/// <reference types=\"jquery\" />\r\n///\r\nimport $ from \"jquery\";\r\nimport \"bootstrap\";\r\nimport \"bootstrap-select\";\r\nconst noCodeString = \"No Code\";\r\nfunction checkEnter(e) {\r\n    const ev = e || event;\r\n    var txtArea = /textarea/i.test(ev.srcElement.tagName);\r\n    return txtArea || (e.keyCode || e.which || e.charCode || 0) !== 13;\r\n}\r\nexport function initialize() {\r\n    document.querySelector('form').onkeypress = checkEnter;\r\n    $('#fleetId').change(loadFleet);\r\n    if ($('#needsLocalDate').val() === \"true\") {\r\n        var now = new Date();\r\n        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n        $('#date').val(now.toISOString().substring(0, 10));\r\n        $('#needsLocalDate').val('false');\r\n    }\r\n    $('#date').change(loadSeriesOptions);\r\n    $('#raceState').change(raceStateChanged);\r\n    $('#results').on('click', '.select-code', calculatePlaces);\r\n    $('#results').on('click', '.move-up', moveUp);\r\n    $('#results').on('click', '.move-down', moveDown);\r\n    $('#results').on('click', '.delete-button', confirmDelete);\r\n    $('#scoreButtonDiv').on('click', '.add-comp-enabled', addNewCompetitorFromButton);\r\n    $('#deleteConfirmed').click(deleteResult);\r\n    $('#closefooter').click(hideScoreButtonFooter);\r\n    $('#compform').submit(compCreateSubmit);\r\n    $(\"#raceform\").submit(function (e) {\r\n        e.preventDefault();\r\n        var form = this;\r\n        addScoresFieldsToForm(form);\r\n        form.submit();\r\n        removeScoresFieldsFromForm(form);\r\n    });\r\n    loadFleet();\r\n    loadSeriesOptions();\r\n    calculatePlaces();\r\n    $(\"#submitButton\").prop(\"disabled\", false);\r\n    $(\"#submitDisabledMessage\").prop(\"hidden\", true);\r\n}\r\nexport function loadSeriesOptions() {\r\n    let clubId = $(\"#clubId\").val();\r\n    let dateStr = $(\"#date\").val();\r\n    getSeries(clubId, dateStr);\r\n}\r\nexport function loadFleet() {\r\n    let clubId = $(\"#clubId\").val();\r\n    let fleetId = $(\"#fleetId\").val();\r\n    let sel = document.getElementById('fleetId');\r\n    let option = sel.options[sel.selectedIndex];\r\n    let boatClassId = option.getAttribute('data-boat-class-id');\r\n    if (boatClassId) {\r\n        $(\"#createCompBoatClassSelect\").val(boatClassId);\r\n    }\r\n    if (fleetId.length < 30) {\r\n        $(\"#createCompButton\").prop('disabled', true);\r\n    }\r\n    else {\r\n        $(\"#createCompButton\").prop('disabled', false);\r\n    }\r\n    $(\"#createCompFleetId\").val(fleetId);\r\n    getCompetitors(clubId, fleetId);\r\n}\r\nexport function raceStateChanged() {\r\n    let state = $(\"#raceState\").val();\r\n    if (state === \"2\") {\r\n        clearWeatherFields();\r\n    }\r\n    if (state === \"1\") {\r\n        populateEmptyWeatherFields();\r\n    }\r\n}\r\nexport function compCreateSubmit(e) {\r\n    e.preventDefault();\r\n    $(\"#compLoading\").show();\r\n    var form = $(this);\r\n    var url = form.attr(\"data-submit-url\");\r\n    var prep = function (xhr) {\r\n        $('#compLoading').show();\r\n        xhr.setRequestHeader(\"RequestVerificationToken\", $('input:hidden[name=\"__RequestVerificationToken\"]').val());\r\n    };\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        beforeSend: prep,\r\n        data: form.serialize(),\r\n        success: completeCompCreate,\r\n        error: completeCompCreateFailed\r\n    });\r\n    $(\"#compLoading\").hide();\r\n    return false;\r\n}\r\nexport function completeCompCreate() {\r\n    let clubId = $(\"#clubId\").val();\r\n    let fleetId = $(\"#fleetId\").val();\r\n    getCompetitors(clubId, fleetId);\r\n    var modal = $(\"#createCompetitor\");\r\n    modal.modal(\"hide\");\r\n}\r\nexport function completeCompCreateFailed() {\r\n    $(\"#compCreateAlert\").show();\r\n}\r\nexport function hideAlert() {\r\n    $(\"#compCreateAlert\").hide();\r\n}\r\nexport function moveUp() {\r\n    var btn = event.target;\r\n    var resultItem = $(btn).closest(\"li\");\r\n    // move up:\r\n    resultItem.prev().insertAfter(resultItem);\r\n    calculatePlaces();\r\n}\r\nexport function moveDown() {\r\n    var btn = event.target;\r\n    var resultItem = $(btn).closest(\"li\");\r\n    resultItem.next().insertBefore(resultItem);\r\n    calculatePlaces();\r\n}\r\nexport function deleteResult() {\r\n    var modal = $(\"#deleteConfirm\");\r\n    var compId = modal.find(\"#compIdToDelete\").val();\r\n    var resultList = $(\"#results\");\r\n    var resultItem = resultList.find(`[data-competitorid='${compId}']`);\r\n    resultItem.remove();\r\n    calculatePlaces();\r\n    updateButtonFooter();\r\n    modal.modal(\"hide\");\r\n}\r\nexport function confirmDelete() {\r\n    var btn = event.target;\r\n    var resultItem = $(btn).closest(\"li\");\r\n    var compId = resultItem.data('competitorid');\r\n    var compName = resultItem.find(\".competitor-name\").text();\r\n    var modal = $('#deleteConfirm');\r\n    modal.find('#competitorNameToDelete').text(compName);\r\n    modal.find('#compIdToDelete').val(compId);\r\n    modal.show();\r\n}\r\nexport function hideScoreButtonFooter() {\r\n    $('#scoreButtonFooter').hide();\r\n}\r\nexport function addNewCompetitorFromButton() {\r\n    if (!(event.target instanceof HTMLButtonElement)) {\r\n        return;\r\n    }\r\n    var competitorId = event.target.dataset['competitorid'];\r\n    //var competitorId = $(btn).data('id');\r\n    let comp = allCompetitors.find(c => c.id.toString() === competitorId);\r\n    addNewCompetitor(comp);\r\n}\r\nfunction addNewCompetitor(competitor) {\r\n    var c = 0;\r\n    var resultDiv = document.getElementById(\"results\");\r\n    var compTemplate = document.getElementById(\"competitorTemplate\");\r\n    var compListItem = compTemplate.cloneNode(true);\r\n    compListItem.id = competitor.id.toString();\r\n    compListItem.setAttribute(\"data-competitorId\", competitor.id.toString());\r\n    var span = compListItem.getElementsByClassName(\"competitor-name\")[0];\r\n    span.appendChild(document.createTextNode(competitor.name));\r\n    span = compListItem.getElementsByClassName(\"sail-number\")[0];\r\n    span.appendChild(document.createTextNode(competitor.sailNumber));\r\n    if (competitor.alternativeSailNumber) {\r\n        span = compListItem.getElementsByClassName(\"alt-sail-number\")[0];\r\n        span.appendChild(document.createTextNode(\" (\" + competitor.alternativeSailNumber + \")\"));\r\n        span.style.display = \"\";\r\n    }\r\n    span = compListItem.getElementsByClassName(\"race-place\")[0];\r\n    span.appendChild(document.createTextNode(c.toString()));\r\n    var deleteButtons = compListItem.getElementsByClassName(\"delete-button\");\r\n    for (var i = 0; i < deleteButtons.length; i++) {\r\n        deleteButtons[i].setAttribute(\"data-competitorId\", competitor.id.toString());\r\n    }\r\n    compListItem.style.display = \"\";\r\n    resultDiv.appendChild(compListItem);\r\n    calculatePlaces();\r\n    $('html, body').animate({\r\n        scrollTop: $(compListItem).offset().top - 150\r\n    }, 300);\r\n    $('#newCompetitor').val(\"\");\r\n    initializeAutoComplete();\r\n    updateButtonFooter();\r\n}\r\nfunction addScoresFieldsToForm(form) {\r\n    var resultList = document.getElementById(\"results\");\r\n    var resultItems = resultList.getElementsByTagName(\"li\");\r\n    for (var i = 1; i < resultItems.length; i++) {\r\n        const listIndex = (i - 1).toString();\r\n        var input = document.createElement(\"input\");\r\n        input.type = \"hidden\";\r\n        input.name = \"Scores\\[\" + listIndex + \"\\].competitorId\";\r\n        input.value = resultItems[i].getAttribute(\"data-competitorId\");\r\n        form.appendChild(input);\r\n        input = document.createElement(\"input\");\r\n        input.type = \"hidden\";\r\n        input.name = \"Scores\\[\" + listIndex + \"\\].place\";\r\n        if (shouldCompKeepScore(resultItems[i])) {\r\n            input.value = resultItems[i].getAttribute(\"data-place\");\r\n        }\r\n        form.appendChild(input);\r\n        input = document.createElement(\"input\");\r\n        input.type = \"hidden\";\r\n        input.name = \"Scores\\[\" + listIndex + \"\\].code\";\r\n        input.value = getCompetitorCode(resultItems[i]);\r\n        form.appendChild(input);\r\n        input = document.createElement(\"input\");\r\n        input.type = \"hidden\";\r\n        input.name = \"Scores\\[\" + listIndex + \"\\].codePointsString\";\r\n        input.value = getCompetitorCodePoints(resultItems[i]);\r\n        form.appendChild(input);\r\n    }\r\n}\r\nfunction removeScoresFieldsFromForm(form) {\r\n    $(form).find(\"[name^=Scores]\").remove();\r\n}\r\nexport function calculatePlaces() {\r\n    var resultList = document.getElementById(\"results\");\r\n    var resultItems = resultList.getElementsByTagName(\"li\");\r\n    var scoreCount = 1;\r\n    for (var i = 1, len = resultItems.length; i < len; i++) {\r\n        var span = resultItems[i].getElementsByClassName(\"race-place\")[0];\r\n        resultItems[i].setAttribute(\"data-place\", i.toString());\r\n        var origScore = resultItems[i].getAttribute(\"data-originalScore\");\r\n        if (span.id !== \"competitorTemplate\") {\r\n            if (shouldCompKeepScore(resultItems[i]) &&\r\n                origScore !== \"0\") {\r\n                span.textContent = (scoreCount).toString();\r\n                resultItems[i].setAttribute(\"data-place\", scoreCount.toString());\r\n                scoreCount++;\r\n            }\r\n            else {\r\n                span.textContent = getCompetitorCode(resultItems[i]);\r\n                resultItems[i].removeAttribute(\"data-place\");\r\n            }\r\n        }\r\n        // show manual entry if needed\r\n        var codepointsinput = resultItems[i].getElementsByClassName(\"code-points\")[0];\r\n        if (shouldHaveManualEntry(resultItems[i])) {\r\n            codepointsinput.style.display = \"\";\r\n        }\r\n        else {\r\n            codepointsinput.style.display = \"none\";\r\n            codepointsinput.value = \"\";\r\n        }\r\n    }\r\n}\r\nfunction competitorIsInResults(comp) {\r\n    var resultList = document.getElementById(\"results\");\r\n    var resultItems = resultList.getElementsByTagName(\"li\");\r\n    for (var i = 0, len = resultItems.length; i < len; i++) {\r\n        if (resultItems[i].getAttribute(\"data-competitorId\")\r\n            === comp.id.toString()) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction getSuggestions() {\r\n    const competitorSuggestions = [];\r\n    allCompetitors.forEach(c => {\r\n        if (!competitorIsInResults(c)) {\r\n            let comp = {\r\n                value: c.sailNumber + \" - \" + c.name,\r\n                data: c\r\n            };\r\n            if (c.alternativeSailNumber) {\r\n                comp.value = c.sailNumber + \" ( \" +\r\n                    c.alternativeSailNumber + \" ) - \" + c.name;\r\n            }\r\n            competitorSuggestions.push(comp);\r\n        }\r\n    });\r\n    return competitorSuggestions;\r\n}\r\nvar allCompetitors;\r\nvar competitorSuggestions;\r\nfunction getCompetitors(clubId, fleetId) {\r\n    if ($ && clubId && fleetId && fleetId.length > 31) {\r\n        $.getJSON(\"/api/Competitors\", {\r\n            clubId: clubId,\r\n            fleetId: fleetId\r\n        }, function (data) {\r\n            allCompetitors = data;\r\n            initializeAutoComplete();\r\n            initializeButtonFooter();\r\n        });\r\n    }\r\n}\r\nvar seriesOptions;\r\nfunction getSeries(clubId, date) {\r\n    if (clubId && date) {\r\n        $.getJSON(\"/api/Series\", {\r\n            clubId: clubId,\r\n            date: date\r\n        }, function (data) {\r\n            seriesOptions = data;\r\n            setSeries();\r\n        });\r\n    }\r\n}\r\nfunction setSeries() {\r\n    let seriesSelect = $('#seriesIds');\r\n    var selectedSeriesValues = seriesSelect.val();\r\n    seriesSelect.empty();\r\n    $.each(seriesOptions, function (key, value) {\r\n        let series = value;\r\n        seriesSelect.append($(\"<option></option>\")\r\n            .attr(\"value\", series.id.toString()).text(series.name));\r\n    });\r\n    seriesSelect.selectpicker('destroy');\r\n    seriesSelect.selectpicker();\r\n    seriesSelect.val(selectedSeriesValues);\r\n    seriesSelect.selectpicker('refresh');\r\n}\r\nvar autoCompleteSetup = false;\r\nfunction initializeAutoComplete() {\r\n    competitorSuggestions = getSuggestions();\r\n    if (autoCompleteSetup) {\r\n        $('#newCompetitor').autocomplete().dispose();\r\n    }\r\n    $('#newCompetitor').autocomplete({\r\n        lookup: competitorSuggestions,\r\n        onSelect: function (suggestion) {\r\n            addNewCompetitor(suggestion.data);\r\n        },\r\n        autoSelectFirst: true,\r\n        triggerSelectOnValidInput: false,\r\n        noCache: true\r\n    });\r\n    autoCompleteSetup = true;\r\n}\r\nfunction initializeButtonFooter() {\r\n    $('#scoreButtonDiv').empty();\r\n    if (allCompetitors && allCompetitors.length && allCompetitors.length < 21) {\r\n        $('#scoreButtonFooter').show();\r\n    }\r\n    else {\r\n        $('#scoreButtonFooter').hide();\r\n    }\r\n    allCompetitors.forEach(c => {\r\n        let style = 'btn ';\r\n        if (!competitorIsInResults(c)) {\r\n            style += 'btn-outline-primary add-comp-enabled';\r\n        }\r\n        else {\r\n            style += 'btn-primary add-comp-disabled';\r\n        }\r\n        $('#scoreButtonDiv').append('<button class=\"' + style +\r\n            '\" data-competitorid=\"' + c.id + '\" > ' +\r\n            (c.sailNumber || c.alternativeSailNumber) + ' </button>');\r\n    });\r\n}\r\nfunction updateButtonFooter() {\r\n    $('#scoreButtonDiv').empty();\r\n    allCompetitors.forEach(c => {\r\n        let style = 'btn ';\r\n        if (!competitorIsInResults(c)) {\r\n            style += 'btn-outline-primary add-comp-enabled';\r\n        }\r\n        else {\r\n            style += 'btn-primary add-comp-disabled';\r\n        }\r\n        $('#scoreButtonDiv').append('<button class=\"' + style +\r\n            '\" data-competitorid=\"' + c.id + '\" > ' +\r\n            (c.sailNumber || c.alternativeSailNumber) + ' </button>');\r\n    });\r\n}\r\nfunction getCompetitorCode(compListItem) {\r\n    const codeText = compListItem.getElementsByClassName(\"select-code\")[0].value;\r\n    if (codeText === noCodeString) {\r\n        return null;\r\n    }\r\n    return codeText;\r\n}\r\nfunction getCompetitorCodePoints(compListItem) {\r\n    const codePoints = compListItem.getElementsByClassName(\"code-points\")[0].value;\r\n    if (codePoints === noCodeString) {\r\n        return null;\r\n    }\r\n    return codePoints;\r\n}\r\nfunction shouldCompKeepScore(compListItem) {\r\n    const codeText = compListItem.getElementsByClassName(\"select-code\")[0]\r\n        .value;\r\n    if (codeText === noCodeString) {\r\n        return true;\r\n    }\r\n    const fullCodeObj = scoreCodes.filter(s => s.name === codeText);\r\n    return !!(fullCodeObj[0].preserveResult);\r\n}\r\nfunction shouldHaveManualEntry(compListItem) {\r\n    const codeText = compListItem.getElementsByClassName(\"select-code\")[0]\r\n        .value;\r\n    if (codeText === noCodeString) {\r\n        return false;\r\n    }\r\n    const fullCodeObj = scoreCodes.filter(s => s.name === codeText);\r\n    return (fullCodeObj[0].formula === \"MAN\");\r\n}\r\nfunction clearWeatherFields() {\r\n    $(\"#weatherIcon\").val(\"Select...\");\r\n    $(\"#weatherIcon\").selectpicker(\"refresh\");\r\n    $(\"#weatherDescription\").val(null);\r\n    $(\"#windSpeed\").val(null);\r\n    $(\"#windGust\").val(null);\r\n    $(\"#windDirection\").val(null);\r\n    $(\"#temperature\").val(null);\r\n    $(\"#humidity\").val(null);\r\n    $(\"#cloudcover\").val(null);\r\n}\r\nfunction populateEmptyWeatherFields() {\r\n    var initials = $(\"#clubInitials\").val();\r\n    $.getJSON(\"/\" + initials + \"/weather/current/\", {}, function (data) {\r\n        if (data.icon && $(\"#weatherIcon\").val(null)) {\r\n            $(\"#weatherIcon\").val(data.icon);\r\n            $(\"#weatherIcon\").selectpicker(\"refresh\");\r\n        }\r\n        if (data.description && $(\"#weatherDescription\").val(null)) {\r\n            $(\"#weatherDescription\").val(data.description);\r\n        }\r\n        if (data.windSpeed && $(\"#windSpeed\").val(null)) {\r\n            $(\"#windSpeed\").val(data.windSpeed);\r\n        }\r\n        if (data.windGust && $(\"#windGust\").val(null)) {\r\n            $(\"#windGust\").val(data.windGust);\r\n        }\r\n        if (data.windDirection && $(\"#windDirection\").val(null)) {\r\n            $(\"#windDirection\").val(data.windDirection);\r\n        }\r\n        if (data.temperature && $(\"#temperature\").val(null)) {\r\n            $(\"#temperature\").val(data.temperature);\r\n        }\r\n        if (data.humidity && $(\"#humidity\").val(null)) {\r\n            $(\"#humidity\").val(data.humidity);\r\n        }\r\n        if (data.cloudCoverPercent && $(\"#cloudCover\").val(null)) {\r\n            $(\"#cloudCover\").val(data.cloudCoverPercent);\r\n        }\r\n    });\r\n}\r\ninitialize();\r\n//# sourceMappingURL=raceEditor.js.map","module.exports = bootstrap;","module.exports = window[\"bootstrap-select\"];"],"sourceRoot":""}