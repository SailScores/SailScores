!function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=11)}({11:function(t,e,r){t.exports=r(12)},12:function(t,e){!function(){for(var t,e,r,a=600,n=document.getElementsByClassName("results-chart"),o=0;o<n.length;o++)i(n[o].dataset.seriesId,"#"+n[o].id);function i(e,r){e,t=r;var a="/series/chart?seriesId="+e;"undefined"!=typeof d3&&null!=d3&&d3.json(a).then(d)}function l(t,e){var r=e.races.find(e=>e.id===t.raceId),a=e.races.filter(t=>t.date===r.date),n=a.findIndex(t=>t.id===r.id)+1;return new Date(new Date(r.date).getTime()+24*n*60*60*1e3/(a.length+1))}function c(t,e){var r=Math.max(...e.entries.filter(e=>e.raceId===t.raceId).map(t=>t.seriesPoints)),n=Math.min(...e.entries.filter(e=>e.raceId===t.raceId&&0!==e.seriesPoints).map(t=>t.seriesPoints)),o=(t.seriesPoints-n)/(r-n);return isNaN(o)&&(o=0),0===t.seriesPoints&&(o=1),30+o*(a-30-30)}function s(t){var e=d3.select(t.node().parentNode),r=parseInt(t.style("width")),a=parseInt(t.style("height")),n=r/a;function o(){var a=parseInt(e.style("width"));a<=100&&(a=r),t.attr("width",a),t.attr("height",Math.round(a/n))}t.attr("viewBox","0 0 "+r+" "+a).attr("perserveAspectRatio","xMinYMid").call(o),d3.select(window).on("resize."+e.attr("id"),o)}function d(n){if(null!==n){var o=n.races.map(t=>new Date(t.date));e=new Date(Math.min.apply(null,o)),(r=new Date(Math.max.apply(null,o))).setDate(r.getDate()+1);var i=d3.scaleTime().domain([e,r]).range([30,780]),d=d3.scaleOrdinal(d3.schemeDark2);a=16*n.competitors.length+60;var p=d3.select(t).attr("width",960).attr("height",a).call(s),u=d3.select(t).selectAll("g.legendEntry").attr("transform","translate(810,32)").data(n.competitors).enter().append("g").attr("class","legendEntry").attr("data-compId",t=>t.id).attr("transform",(function(t,e){return"translate(810,"+(16*e+2+20)+")"})).attr("opacity",1).on("mouseover",y).on("mouseout",h);u.append("rect").attr("width",149).attr("height",16).attr("fill","none").attr("stroke-width",2),u.append("rect").attr("width",18).attr("height",12).attr("x",2).attr("y",2).style("fill",t=>d(t.id)).style("stroke-width",0),u.append("text").attr("x",22).attr("y",12).style("font-size","11px").text((function(t){return t.name}));var f=d3.axisTop().scale(i),m=d3.select("html").attr("lang").substring(0,2);(e-r<864e6||"en"!==m)&&(f=f.tickFormat("")),p.append("g").attr("id","xAxisG").attr("transform","translate(0,20)").call(f),lineData=d3.line().x(t=>i(l(t,n))).y(t=>c(t,n)),p.selectAll("path.compLine").data(n.competitors).enter().append("path").attr("class","compLine").attr("d",t=>lineData(n.entries.filter(e=>e.competitorId===t.id))).attr("fill","none").attr("opacity",1).attr("stroke",t=>d(t.id)).attr("stroke-width",1).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("data-compId",t=>t.id).on("mouseover",y).on("mouseout",h),p.selectAll("circle").data(n.entries).enter().append("circle").attr("r",3).attr("cy",t=>c(t,n)).attr("cx",t=>i(l(t,n))).attr("data-compId",t=>t.competitorId).attr("fill",t=>d(t.competitorId)).on("mouseover",(function(t){var e;tooltipGroup.attr("transform","translate("+i(l(t,n))+","+(c(t,n)-16)+")").attr("opacity",1).select("text").selectAll("*").remove(),tooltipGroup.select("text").append("tspan").text((e=t.raceId,n.races.find(t=>t.id===e).shortName)),tooltipGroup.select("text").append("tspan").attr("x",5).attr("y",27).text("Place: "+t.racePlace),tooltipGroup.select("text").append("tspan").attr("x",5).attr("y",43).text("Series points: "+t.seriesPoints),y(t)})).on("mouseout",h),tooltipGroup=p.append("g").attr("opacity",0),tooltipGroup.append("rect").attr("width",120).attr("height",48).attr("fill","white").attr("fill-opacity",".7"),tooltipGroup.append("text").attr("x",5).attr("y",11).style("font-size","11px")}function y(t){compId=t.competitorId||t.id,p.selectAll("path.compLine").attr("opacity",.4),p.selectAll("path[data-compId='"+compId+"']").attr("stroke-width",4).attr("opacity",1),p.selectAll("g.legendEntry").attr("opacity",.4),p.selectAll("g.legendEntry[data-compId='"+compId+"']").attr("opacity",1),p.selectAll("g.legendEntry[data-compId='"+compId+"'] rect").attr("stroke",t=>d(t.id)),p.selectAll("circle").attr("opacity",.4),p.selectAll("circle[data-compId='"+compId+"']").attr("opacity",1)}function h(t){p.selectAll("path.compLine").attr("stroke-width",1.5),p.selectAll("path.compLine").attr("opacity",1),p.selectAll("g.legendEntry rect").attr("stroke","none"),tooltipGroup.attr("opacity",0).attr("transform","translate(960,"+a+")"),p.selectAll("path.compLine").attr("opacity",1),p.selectAll("g.legendEntry").attr("opacity",1),p.selectAll("circle").attr("opacity",1)}}}()}});