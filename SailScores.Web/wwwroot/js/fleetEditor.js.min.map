{"version":3,"file":"fleetEditor.js","mappings":"mBACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDR,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,ICAlF,MAAM,EAA+BI,O,IC4CjCC,E,SAXG,SAASC,IAYhB,IAAwBC,IAXP,IAAE,WAAWC,MAYtB,KAAKD,GACL,YAAU,mBAAoB,CAC1BA,OAAQA,IACT,SAAUE,GACTJ,EAAiBI,EAK7B,WACI,IACIC,EADa,IAAE,yBACKC,KAAI,CAACC,EAAGC,IAAMA,EAAEC,QACpCC,EAAUV,EAAeW,QAAOC,IAAuC,IAAlC,YAAU,GAAKA,EAAEC,GAAIR,KAC1DS,EAAaC,SAASC,eAAe,iBACrCC,EAAiBF,SAASC,eAAe,6BACzCE,EAAYD,EAAeE,QAAQF,EAAeG,eAAeC,KACrE,IAAK,IAAIC,EAAI,EAAGA,EAAIZ,EAAQa,OAAQD,IAAK,CACrC,IAAIE,EAAc,EACdC,GAAWf,EAAQY,GAAGI,WAAa,MAAQhB,EAAQY,GAAGK,MAAMC,OAAS,KAAOV,EAAY,IAC5F,IAAK,IAAIX,EAAI,EAAGA,EAAIO,EAAWK,QAAQI,OAAQhB,IAC3C,GAAIO,EAAWK,QAAQZ,GAAGsB,UAAYJ,EAAS,CAC3CD,EAAcjB,EACd,KACJ,CAEJO,EAAWK,QAAQW,IAAI,IAAIC,OAAON,EAAS,GAAKf,EAAQY,GAAGT,IAAKC,EAAWK,QAAQK,GACvF,CAEY,IAAE,qBACRQ,MAAM,QACZ,IAAE,gBAAgBC,MACtB,CA1BYC,EACJ,GAhBR,CACO,SAASC,IACZ,IAAE,gBAAgBF,OAClB,IAAE,oBAAoBG,MAC1B,CCxCqCC,UDMjC,IAAE,aAAaC,QAQZ,SAA0B9B,GAC7BA,EAAE+B,iBACF,IAAE,gBAAgBH,OAClB,IAAII,EAAO,IAAEC,MACTC,EAAMF,EAAKG,KAAK,mBAapB,OARA,SAAO,CACHC,KAAM,OACNF,IAAKA,EACLG,WAPO,SAAUC,GACjB,IAAE,gBAAgBV,OAClBU,EAAIC,iBAAiB,2BAA4B,IAAE,mDAAmD5C,MAC1G,EAKIC,KAAMoC,EAAKQ,YACXC,QAAShD,EACTiD,MAAOf,KAEJ,CACX,IAzBI,IAAE,iBAAiBxC,KAAK,YAAY,GACpC,IAAE,0BAA0BA,KAAK,UAAU,E","sources":["webpack://asp.net/webpack/bootstrap","webpack://asp.net/webpack/runtime/compat get default export","webpack://asp.net/webpack/runtime/define property getters","webpack://asp.net/webpack/runtime/hasOwnProperty shorthand","webpack://asp.net/external var \"jQuery\"","webpack://asp.net/./wwwroot/js/fleetEditor.js","webpack://asp.net/external var \"bootstrap\""],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = jQuery;","/// <reference path=\"../node_modules/devbridge-autocomplete/typings/jquery-autocomplete/jquery.autocomplete.d.ts\" />\n/// <reference types=\"jquery\" />\n///\nimport $ from \"jquery\";\nimport \"bootstrap\";\nexport function initialize() {\n    $('#compform').submit(compCreateSubmit);\n    $(\"#submitButton\").prop(\"disabled\", false);\n    $(\"#submitDisabledMessage\").prop(\"hidden\", true);\n}\nexport function loadFleet() {\n    let clubId = $(\"#clubId\").val();\n    getCompetitors(clubId);\n}\nexport function compCreateSubmit(e) {\n    e.preventDefault();\n    $(\"#compLoading\").show();\n    var form = $(this);\n    var url = form.attr(\"data-submit-url\");\n    var prep = function (xhr) {\n        $('#compLoading').show();\n        xhr.setRequestHeader(\"RequestVerificationToken\", $('input:hidden[name=\"__RequestVerificationToken\"]').val());\n    };\n    $.ajax({\n        type: \"POST\",\n        url: url,\n        beforeSend: prep,\n        data: form.serialize(), // serializes the form's elements.\n        success: completeCompCreate,\n        error: completeCompCreateFailed\n    });\n    return false;\n}\nexport function completeCompCreate() {\n    let clubId = $(\"#clubId\").val();\n    getCompetitors(clubId);\n}\nexport function completeCompCreateFailed() {\n    $(\"#compLoading\").hide();\n    $(\"#compCreateAlert\").show();\n}\nexport function hideAlert() {\n    $(\"#compCreateAlert\").hide();\n}\nvar allCompetitors;\nfunction getCompetitors(clubId) {\n    if ($ && clubId) {\n        $.getJSON(\"/api/Competitors\", {\n            clubId: clubId\n        }, function (data) {\n            allCompetitors = data;\n            addMissingToCompetitorList();\n        });\n    }\n}\nfunction addMissingToCompetitorList() {\n    var oldOptions = $(\"#CompetitorIds>option\");\n    var oldIds = oldOptions.map((i, e) => e.value);\n    var missing = allCompetitors.filter(c => $.inArray('' + c.id, oldIds) === -1);\n    var compSelect = document.getElementById(\"competitorIds\");\n    var classSelection = document.getElementById(\"createCompBoatClassSelect\");\n    var className = classSelection.options[classSelection.selectedIndex].text;\n    for (let j = 0; j < missing.length; j++) {\n        var beforeIndex = 0;\n        var newText = (missing[j].sailNumber + \" - \" + missing[j].name).trim() + \" (\" + className + \")\";\n        for (let i = 0; i < compSelect.options.length; i++) {\n            if (compSelect.options[i].innerText > newText) {\n                beforeIndex = i;\n                break;\n            }\n        }\n        compSelect.options.add(new Option(newText, \"\" + missing[j].id), compSelect.options[beforeIndex]);\n    }\n    //$(\"#CompetitorIds\").selectpicker(\"refresh\");\n    var modal = $(\"#createCompetitor\");\n    modal.modal(\"hide\");\n    $(\"#compLoading\").hide();\n}\ninitialize();\n//# sourceMappingURL=fleetEditor.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = bootstrap;"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","jQuery","allCompetitors","completeCompCreate","clubId","val","data","oldIds","map","i","e","value","missing","filter","c","id","compSelect","document","getElementById","classSelection","className","options","selectedIndex","text","j","length","beforeIndex","newText","sailNumber","name","trim","innerText","add","Option","modal","hide","addMissingToCompetitorList","completeCompCreateFailed","show","bootstrap","submit","preventDefault","form","this","url","attr","type","beforeSend","xhr","setRequestHeader","serialize","success","error"],"sourceRoot":""}