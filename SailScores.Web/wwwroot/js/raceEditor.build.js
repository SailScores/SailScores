var SailScores=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"init",function(){return i}),n.d(t,"loadSeriesOptions",function(){return a}),n.d(t,"loadFleet",function(){return l}),n.d(t,"raceStateChanged",function(){return c}),n.d(t,"completeCompCreate",function(){return u}),n.d(t,"completeCompCreateFailed",function(){return d}),n.d(t,"hideAlert",function(){return s}),n.d(t,"moveUp",function(){return m}),n.d(t,"moveDown",function(){return p}),n.d(t,"deleteResult",function(){return f}),n.d(t,"confirmDelete",function(){return v}),n.d(t,"hideScoreButtonFooter",function(){return h}),n.d(t,"addNewCompetitorById",function(){return g}),n.d(t,"calculatePlaces",function(){return b});const o="No Code";function r(e){const t=e||event;return/textarea/i.test(t.srcElement.tagName)||13!==(e.keyCode||e.which||e.charCode||0)}function i(){document.querySelector("form").onkeypress=r,$("#raceform").submit(function(e){e.preventDefault();!function(e){for(var t=document.getElementById("results").getElementsByTagName("li"),n=1;n<t.length;n++){const r=(n-1).toString();var o=document.createElement("input");o.type="hidden",o.name="Scores["+r+"].competitorId",o.value=t[n].getAttribute("data-competitorId"),e.appendChild(o),(o=document.createElement("input")).type="hidden",o.name="Scores["+r+"].place",A(t[n])&&(o.value=t[n].getAttribute("data-place")),e.appendChild(o),(o=document.createElement("input")).type="hidden",o.name="Scores["+r+"].code",o.value=D(t[n]),e.appendChild(o),(o=document.createElement("input")).type="hidden",o.name="Scores["+r+"].codePointsString",o.value=x(t[n]),e.appendChild(o)}}(this),this.submit(),function(e){e.find("[name^=Scores]").remove()}(this)}),l(),a(),b(),$("#submitButton").prop("disabled",!1),$("#submitDisabledMessage").prop("hidden",!0)}function a(){!function(e,t){e&&t&&$.getJSON("/api/Series",{clubId:e,date:t},function(e){N=e,function(){let e=$("#seriesIds");var t=e.val();e.empty(),$.each(N,function(t,n){let o=n;e.append($("<option></option>").attr("value",o.id.toString()).text(o.name))}),e.selectpicker("destroy"),e.selectpicker(),e.val(t),e.selectpicker("refresh")}()})}($("#clubId").val(),$("#date").val())}function l(){let e=$("#clubId").val(),t=$("#fleetId").val(),n=document.getElementById("fleetId"),o=n.options[n.selectedIndex].getAttribute("data-boat-class-id");o&&$("#createCompBoatClassSelect").val(o),$("#createCompFleetId").val(t),I(e,t)}function c(){let e=$("#raceState").val();"2"===e&&($("#weatherIcon").val("Select..."),$("#weatherIcon").selectpicker("refresh"),$("#weatherDescription").val(null),$("#windSpeed").val(null),$("#windGust").val(null),$("#windDirection").val(null),$("#temperature").val(null),$("#humidity").val(null),$("#cloudcover").val(null)),"1"===e&&function(){var e=$("#clubInitials").val();$.getJSON("/"+e+"/weather/current/",{},function(e){console.log(e),e.icon&&$("#weatherIcon").val(null)&&($("#weatherIcon").val(e.icon),$("#weatherIcon").selectpicker("refresh")),e.description&&$("#weatherDescription").val(null)&&$("#weatherDescription").val(e.description),e.windSpeed&&$("#windSpeed").val(null)&&$("#windSpeed").val(e.windSpeed),e.windGust&&$("#windGust").val(null)&&$("#windGust").val(e.windGust),e.windDirection&&$("#windDirection").val(null)&&$("#windDirection").val(e.windDirection),e.temperature&&$("#temperature").val(null)&&$("#temperature").val(e.temperature),e.humidity&&$("#humidity").val(null)&&$("#humidity").val(e.humidity),e.cloudCoverPercent&&$("#cloudCover").val(null)&&$("#cloudCover").val(e.cloudCoverPercent)})}()}function u(){I($("#clubId").val(),$("#fleetId").val()),$("#createCompetitor").modal("hide")}function d(){$("#compCreateAlert").show()}function s(){$("#compCreateAlert").hide()}function m(){var e=event.target,t=$(e).closest("li");t.prev().insertAfter(t),b()}function p(){var e=event.target,t=$(e).closest("li");t.next().insertBefore(t),b()}function f(){var e=$("#deleteConfirm"),t=e.find("#compIdToDelete").val();$("#results").find(`[data-competitorid='${t}']`).remove(),b(),e.modal("hide")}function v(){var e=event.target,t=$(e).closest("li"),n=t.data("competitorid"),o=t.find(".competitor-name").text(),r=$("#deleteConfirm");r.find("#competitorNameToDelete").text(o),r.find("#compIdToDelete").val(n),r.show()}function h(){$("#scoreButtonFooter").hide()}function g(e){y(S.find(t=>t.id===e))}function y(e){var t=document.getElementById("results"),n=document.getElementById("competitorTemplate").cloneNode(!0);n.id=e.id.toString(),n.setAttribute("data-competitorId",e.id.toString());var o=n.getElementsByClassName("competitor-name")[0];o.appendChild(document.createTextNode(e.name)),(o=n.getElementsByClassName("sail-number")[0]).appendChild(document.createTextNode(e.sailNumber)),e.alternativeSailNumber&&((o=n.getElementsByClassName("alt-sail-number")[0]).appendChild(document.createTextNode(" ("+e.alternativeSailNumber+")")),o.style.display=""),(o=n.getElementsByClassName("race-place")[0]).appendChild(document.createTextNode((0).toString()));for(var r=n.getElementsByClassName("delete-button"),i=0;i<r.length;i++)r[i].setAttribute("data-competitorId",e.id.toString());n.style.display="",t.appendChild(n),b(),$("html, body").animate({scrollTop:$(n).offset().top-150},300),$("#newCompetitor").val(""),E(),$("#scoreButtonDiv").empty(),S.forEach(e=>{let t="btn ",n="";C(e)?t+="btn-primary":(t+="btn-outline-primary",n="window.SailScores.addNewCompetitorById('"+e.id+"')"),$("#scoreButtonDiv").append('<button class="'+t+' data-id="'+e.id+'" onclick="'+n+'" > '+(e.sailNumber||e.alternativeSailNumber)+" </button>")})}function b(){for(var e=document.getElementById("results").getElementsByTagName("li"),t=1,n=1,o=e.length;n<o;n++){var r=e[n].getElementsByClassName("race-place")[0];e[n].setAttribute("data-place",n.toString());var i=e[n].getAttribute("data-originalScore");"competitorTemplate"!=r.id&&(A(e[n])&&"0"!==i?(r.textContent=t.toString(),e[n].setAttribute("data-place",t.toString()),t++):(r.textContent=D(e[n]),e[n].removeAttribute("data-place")));var a=e[n].getElementsByClassName("code-points")[0];T(e[n])?a.style.display="":(a.style.display="none",a.value="")}}function C(e){for(var t=document.getElementById("results").getElementsByTagName("li"),n=0,o=t.length;n<o;n++)if(t[n].getAttribute("data-competitorId")===e.id.toString())return!0;return!1}var S,w,N;function I(e,t){e&&t&&$.getJSON("/api/Competitors",{clubId:e,fleetId:t},function(e){S=e,E(),function(){$("#scoreButtonDiv").empty(),S&&S.length&&S.length<21?$("#scoreButtonFooter").show():$("#scoreButtonFooter").hide();S.forEach(e=>{let t="btn ",n="";C(e)?t+="btn-primary":(t+="btn-outline-primary",n="window.SailScores.addNewCompetitorById('"+e.id+"')"),$("#scoreButtonDiv").append('<button class="'+t+' data-id="'+e.id+'" onclick="'+n+'" > '+(e.sailNumber||e.alternativeSailNumber)+" </button>")})}()})}var B=!1;function E(){w=function(){const e=[];return console.debug("checking for comps in results"),S.forEach(t=>{if(!C(t)){let n={value:t.sailNumber+" - "+t.name,data:t};t.alternativeSailNumber&&(n.value=t.sailNumber+" ( "+t.alternativeSailNumber+" ) - "+t.name),e.push(n)}}),e}(),B&&$("#newCompetitor").autocomplete().dispose(),$("#newCompetitor").autocomplete({lookup:w,onSelect:function(e){y(e.data)},autoSelectFirst:!0,triggerSelectOnValidInput:!1,noCache:!0}),B=!0}function D(e){const t=e.getElementsByClassName("select-code")[0].value;return t===o?null:t}function x(e){const t=e.getElementsByClassName("code-points")[0].value;return t===o?null:t}function A(e){const t=e.getElementsByClassName("select-code")[0].value;return t===o||!!scoreCodes.filter(e=>e.name===t)[0].preserveResult}function T(e){const t=e.getElementsByClassName("select-code")[0].value;return t!==o&&"MAN"==scoreCodes.filter(e=>e.name===t)[0].formula}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TYWlsU2NvcmVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1NhaWxTY29yZXMvLi9TY3JpcHRzL3JhY2VFZGl0b3IudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJpbml0IiwibG9hZFNlcmllc09wdGlvbnMiLCJsb2FkRmxlZXQiLCJyYWNlU3RhdGVDaGFuZ2VkIiwiY29tcGxldGVDb21wQ3JlYXRlIiwiY29tcGxldGVDb21wQ3JlYXRlRmFpbGVkIiwiaGlkZUFsZXJ0IiwibW92ZVVwIiwibW92ZURvd24iLCJkZWxldGVSZXN1bHQiLCJjb25maXJtRGVsZXRlIiwiaGlkZVNjb3JlQnV0dG9uRm9vdGVyIiwiYWRkTmV3Q29tcGV0aXRvckJ5SWQiLCJjYWxjdWxhdGVQbGFjZXMiLCJub0NvZGVTdHJpbmciLCJjaGVja0VudGVyIiwiZSIsImV2IiwiZXZlbnQiLCJ0ZXN0Iiwic3JjRWxlbWVudCIsInRhZ05hbWUiLCJrZXlDb2RlIiwid2hpY2giLCJjaGFyQ29kZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9ua2V5cHJlc3MiLCIkIiwic3VibWl0IiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwicmVzdWx0SXRlbXMiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwibGlzdEluZGV4IiwidG9TdHJpbmciLCJpbnB1dCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiZ2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJzaG91bGRDb21wS2VlcFNjb3JlIiwiZ2V0Q29tcGV0aXRvckNvZGUiLCJnZXRDb21wZXRpdG9yQ29kZVBvaW50cyIsImFkZFNjb3Jlc0ZpZWxkc1RvRm9ybSIsInRoaXMiLCJmaW5kIiwicmVtb3ZlIiwicmVtb3ZlU2NvcmVzRmllbGRzRnJvbUZvcm0iLCJwcm9wIiwiY2x1YklkIiwiZGF0ZSIsImdldEpTT04iLCJkYXRhIiwic2VyaWVzT3B0aW9ucyIsInNlcmllc1NlbGVjdCIsInNlbGVjdGVkU2VyaWVzVmFsdWVzIiwidmFsIiwiZW1wdHkiLCJlYWNoIiwia2V5Iiwic2VyaWVzIiwiYXBwZW5kIiwiYXR0ciIsImlkIiwidGV4dCIsInNlbGVjdHBpY2tlciIsInNldFNlcmllcyIsImdldFNlcmllcyIsImZsZWV0SWQiLCJzZWwiLCJib2F0Q2xhc3NJZCIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwiZ2V0Q29tcGV0aXRvcnMiLCJzdGF0ZSIsImluaXRpYWxzIiwiY29uc29sZSIsImxvZyIsImljb24iLCJkZXNjcmlwdGlvbiIsIndpbmRTcGVlZCIsIndpbmRHdXN0Iiwid2luZERpcmVjdGlvbiIsInRlbXBlcmF0dXJlIiwiaHVtaWRpdHkiLCJjbG91ZENvdmVyUGVyY2VudCIsInBvcHVsYXRlRW1wdHlXZWF0aGVyRmllbGRzIiwibW9kYWwiLCJzaG93IiwiaGlkZSIsImJ0biIsInRhcmdldCIsInJlc3VsdEl0ZW0iLCJjbG9zZXN0IiwicHJldiIsImluc2VydEFmdGVyIiwibmV4dCIsImluc2VydEJlZm9yZSIsImNvbXBJZCIsImNvbXBOYW1lIiwiY29tcGV0aXRvcklkIiwiYWRkTmV3Q29tcGV0aXRvciIsImFsbENvbXBldGl0b3JzIiwiY29tcGV0aXRvciIsInJlc3VsdERpdiIsImNvbXBMaXN0SXRlbSIsImNsb25lTm9kZSIsInNldEF0dHJpYnV0ZSIsInNwYW4iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY3JlYXRlVGV4dE5vZGUiLCJzYWlsTnVtYmVyIiwiYWx0ZXJuYXRpdmVTYWlsTnVtYmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiZGVsZXRlQnV0dG9ucyIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJpbml0aWFsaXplQXV0b0NvbXBsZXRlIiwiZm9yRWFjaCIsInNjcmlwdCIsImNvbXBldGl0b3JJc0luUmVzdWx0cyIsInNjb3JlQ291bnQiLCJsZW4iLCJvcmlnU2NvcmUiLCJ0ZXh0Q29udGVudCIsInJlbW92ZUF0dHJpYnV0ZSIsImNvZGVwb2ludHNpbnB1dCIsInNob3VsZEhhdmVNYW51YWxFbnRyeSIsImNvbXAiLCJjb21wZXRpdG9yU3VnZ2VzdGlvbnMiLCJpbml0aWFsaXplQnV0dG9uRm9vdGVyIiwiYXV0b0NvbXBsZXRlU2V0dXAiLCJkZWJ1ZyIsInB1c2giLCJnZXRTdWdnZXN0aW9ucyIsImF1dG9jb21wbGV0ZSIsImRpc3Bvc2UiLCJsb29rdXAiLCJvblNlbGVjdCIsInN1Z2dlc3Rpb24iLCJhdXRvU2VsZWN0Rmlyc3QiLCJ0cmlnZ2VyU2VsZWN0T25WYWxpZElucHV0Iiwibm9DYWNoZSIsImNvZGVUZXh0IiwiY29kZVBvaW50cyIsInNjb3JlQ29kZXMiLCJmaWx0ZXIiLCJmb3JtdWxhIl0sIm1hcHBpbmdzIjoiMkJBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTJDQSxPQXRDQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxF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QUMzQkMsU0FBUyxJQUViWCxHQUFvQixFQThDeEIsU0FBUzdGLEVBQWtCZ0UsR0FDdkIsTUFBTXlDLEVBQVl6QyxFQUFhSSx1QkFBdUIsZUFBZSxHQUF5QjFILE1BQzlGLE9BQUkrSixJQUFhdkksRUFDTixLQUVKdUksRUFFWCxTQUFTeEcsRUFBd0IrRCxHQUM3QixNQUFNMEMsRUFBYzFDLEVBQWFJLHVCQUF1QixlQUFlLEdBQXdCMUgsTUFDL0YsT0FBSWdLLElBQWV4SSxFQUNSLEtBRUp3SSxFQUdYLFNBQVMzRyxFQUFvQmlFLEdBQ3pCLE1BQU15QyxFQUNEekMsRUFBYUksdUJBQXVCLGVBQWUsR0FDbkQxSCxNQUNMLE9BQUkrSixJQUFhdkksS0FHR3lJLFdBQVdDLE9BQU8xSixHQUFLQSxFQUFFakIsT0FBU3dLLEdBQ2hDLEdBQWlCLGVBRzNDLFNBQVNoQixFQUFzQnpCLEdBQzNCLE1BQU15QyxFQUNEekMsRUFBYUksdUJBQXVCLGVBQWUsR0FDL0MxSCxNQUNULE9BQUkrSixJQUFhdkksR0FJaUIsT0FEZHlJLFdBQVdDLE9BQU8xSixHQUFLQSxFQUFFakIsT0FBU3dLLEdBQ2xDLEdBQUdJIiwiZmlsZSI6InJhY2VFZGl0b3IuYnVpbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanMvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9ub2RlX21vZHVsZXMvZGV2YnJpZGdlLWF1dG9jb21wbGV0ZS90eXBpbmdzL2pxdWVyeS1hdXRvY29tcGxldGUvanF1ZXJ5LmF1dG9jb21wbGV0ZS5kLnRzXCIgLz5cclxuLy8vXHJcbmltcG9ydCB7IGNvbXBldGl0b3JEdG8sIHNjb3JlQ29kZUR0bywgc2VyaWVzRHRvIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9zZXJ2ZXJcIjtcclxuXHJcbmltcG9ydCB7IEd1aWQgfSBmcm9tIFwiLi9ndWlkXCI7XHJcblxyXG5sZXQgY29tcGV0aXRvcnM6IGNvbXBldGl0b3JEdG9bXTtcclxuZGVjbGFyZSB2YXIgc2NvcmVDb2Rlczogc2NvcmVDb2RlRHRvW107XHJcbmNvbnN0IG5vQ29kZVN0cmluZyA9IFwiTm8gQ29kZVwiO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tFbnRlcihlOiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICBjb25zdCBldiA9IGUgfHwgZXZlbnQ7XHJcbiAgICB2YXIgdHh0QXJlYSA9IC90ZXh0YXJlYS9pLnRlc3QoKGV2LnNyY0VsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUpO1xyXG4gICAgcmV0dXJuIHR4dEFyZWEgfHwgKGUua2V5Q29kZSB8fCBlLndoaWNoIHx8IGUuY2hhckNvZGUgfHwgMCkgIT09IDEzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5vbmtleXByZXNzID0gY2hlY2tFbnRlcjtcclxuICAgICQoXCIjcmFjZWZvcm1cIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBmb3JtID0gdGhpcyBhcyBIVE1MRm9ybUVsZW1lbnQ7XHJcbiAgICAgICAgYWRkU2NvcmVzRmllbGRzVG9Gb3JtKGZvcm0pO1xyXG4gICAgICAgIGZvcm0uc3VibWl0KCk7XHJcbiAgICAgICAgcmVtb3ZlU2NvcmVzRmllbGRzRnJvbUZvcm0oZm9ybSk7XHJcbiAgICB9KTtcclxuICAgIGxvYWRGbGVldCgpO1xyXG4gICAgbG9hZFNlcmllc09wdGlvbnMoKTtcclxuICAgIGNhbGN1bGF0ZVBsYWNlcygpO1xyXG4gICAgJChcIiNzdWJtaXRCdXR0b25cIikucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICQoXCIjc3VibWl0RGlzYWJsZWRNZXNzYWdlXCIpLnByb3AoXCJoaWRkZW5cIiwgdHJ1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkU2VyaWVzT3B0aW9ucygpIHtcclxuICAgIGxldCBjbHViSWQgPSAoJChcIiNjbHViSWRcIikudmFsKCkgYXMgc3RyaW5nKTtcclxuICAgIGxldCBkYXRlU3RyID0gJChcIiNkYXRlXCIpLnZhbCgpIGFzIHN0cmluZztcclxuICAgIGdldFNlcmllcyhjbHViSWQsIGRhdGVTdHIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZsZWV0KCkge1xyXG4gICAgbGV0IGNsdWJJZCA9ICgkKFwiI2NsdWJJZFwiKS52YWwoKSBhcyBzdHJpbmcpO1xyXG4gICAgbGV0IGZsZWV0SWQgPSAoJChcIiNmbGVldElkXCIpLnZhbCgpIGFzIHN0cmluZyk7XHJcbiAgICBsZXQgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsZWV0SWQnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIGxldCBvcHRpb24gPSBzZWwub3B0aW9uc1tzZWwuc2VsZWN0ZWRJbmRleF07XHJcbiAgICBsZXQgYm9hdENsYXNzSWQgPSBvcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWJvYXQtY2xhc3MtaWQnKTtcclxuICAgIGlmIChib2F0Q2xhc3NJZCkge1xyXG4gICAgICAgICQoXCIjY3JlYXRlQ29tcEJvYXRDbGFzc1NlbGVjdFwiKS52YWwoYm9hdENsYXNzSWQpO1xyXG4gICAgfVxyXG5cclxuICAgICQoXCIjY3JlYXRlQ29tcEZsZWV0SWRcIikudmFsKGZsZWV0SWQpO1xyXG4gICAgZ2V0Q29tcGV0aXRvcnMoY2x1YklkLCBmbGVldElkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhY2VTdGF0ZUNoYW5nZWQoKSB7XHJcbiAgICBsZXQgc3RhdGUgPSAkKFwiI3JhY2VTdGF0ZVwiKS52YWwoKTtcclxuICAgIGlmIChzdGF0ZSA9PT0gXCIyXCIpe1xyXG4gICAgICAgIGNsZWFyV2VhdGhlckZpZWxkcygpXHJcbiAgICB9XHJcbiAgICBpZiAoc3RhdGUgPT09IFwiMVwiKSB7XHJcbiAgICAgICAgcG9wdWxhdGVFbXB0eVdlYXRoZXJGaWVsZHMoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXRlQ29tcENyZWF0ZSgpIHtcclxuICAgIGxldCBjbHViSWQgPSAoJChcIiNjbHViSWRcIikudmFsKCkgYXMgc3RyaW5nKTtcclxuICAgIGxldCBmbGVldElkID0gKCQoXCIjZmxlZXRJZFwiKS52YWwoKSBhcyBzdHJpbmcpO1xyXG4gICAgZ2V0Q29tcGV0aXRvcnMoY2x1YklkLCBmbGVldElkKTtcclxuXHJcbiAgICB2YXIgbW9kYWwgPSAkKFwiI2NyZWF0ZUNvbXBldGl0b3JcIik7XHJcbiAgICAoPGFueT5tb2RhbCkubW9kYWwoXCJoaWRlXCIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wbGV0ZUNvbXBDcmVhdGVGYWlsZWQoKSB7XHJcbiAgICAkKFwiI2NvbXBDcmVhdGVBbGVydFwiKS5zaG93KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoaWRlQWxlcnQoKSB7XHJcbiAgICAkKFwiI2NvbXBDcmVhdGVBbGVydFwiKS5oaWRlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3ZlVXAoKSB7XHJcbiAgICB2YXIgYnRuID0gPE5vZGU+ZXZlbnQudGFyZ2V0O1xyXG4gICAgdmFyIHJlc3VsdEl0ZW0gPSAkKGJ0bikuY2xvc2VzdChcImxpXCIpO1xyXG4gICAgLy8gbW92ZSB1cDpcclxuICAgIHJlc3VsdEl0ZW0ucHJldigpLmluc2VydEFmdGVyKHJlc3VsdEl0ZW0pO1xyXG4gICAgY2FsY3VsYXRlUGxhY2VzKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb3ZlRG93bigpIHtcclxuICAgIHZhciBidG4gPSA8Tm9kZT5ldmVudC50YXJnZXQ7XHJcbiAgICB2YXIgcmVzdWx0SXRlbSA9ICQoYnRuKS5jbG9zZXN0KFwibGlcIik7XHJcbiAgICByZXN1bHRJdGVtLm5leHQoKS5pbnNlcnRCZWZvcmUocmVzdWx0SXRlbSk7XHJcbiAgICBjYWxjdWxhdGVQbGFjZXMoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVJlc3VsdCgpIHtcclxuICAgIHZhciBtb2RhbCA9ICQoXCIjZGVsZXRlQ29uZmlybVwiKTtcclxuICAgIHZhciBjb21wSWQgPSBtb2RhbC5maW5kKFwiI2NvbXBJZFRvRGVsZXRlXCIpLnZhbCgpO1xyXG4gICAgdmFyIHJlc3VsdExpc3QgPSAkKFwiI3Jlc3VsdHNcIik7XHJcbiAgICB2YXIgcmVzdWx0SXRlbSA9IHJlc3VsdExpc3QuZmluZChgW2RhdGEtY29tcGV0aXRvcmlkPScke2NvbXBJZH0nXWApO1xyXG4gICAgcmVzdWx0SXRlbS5yZW1vdmUoKTtcclxuICAgIGNhbGN1bGF0ZVBsYWNlcygpO1xyXG4gICAgKDxhbnk+bW9kYWwpLm1vZGFsKFwiaGlkZVwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpcm1EZWxldGUoKSB7XHJcbiAgICB2YXIgYnRuID0gPE5vZGU+ZXZlbnQudGFyZ2V0O1xyXG4gICAgdmFyIHJlc3VsdEl0ZW0gPSAkKGJ0bikuY2xvc2VzdChcImxpXCIpO1xyXG4gICAgdmFyIGNvbXBJZCA9IHJlc3VsdEl0ZW0uZGF0YSgnY29tcGV0aXRvcmlkJyk7XHJcbiAgICB2YXIgY29tcE5hbWUgPSByZXN1bHRJdGVtLmZpbmQoXCIuY29tcGV0aXRvci1uYW1lXCIpLnRleHQoKTtcclxuICAgIHZhciBtb2RhbCA9ICQoJyNkZWxldGVDb25maXJtJyk7XHJcbiAgICBtb2RhbC5maW5kKCcjY29tcGV0aXRvck5hbWVUb0RlbGV0ZScpLnRleHQoY29tcE5hbWUpO1xyXG4gICAgbW9kYWwuZmluZCgnI2NvbXBJZFRvRGVsZXRlJykudmFsKGNvbXBJZCk7XHJcbiAgICBtb2RhbC5zaG93KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoaWRlU2NvcmVCdXR0b25Gb290ZXIoKSB7XHJcbiAgICAkKCcjc2NvcmVCdXR0b25Gb290ZXInKS5oaWRlKCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld0NvbXBldGl0b3JCeUlkKGNvbXBldGl0b3JJZDogR3VpZCkge1xyXG4gICAgbGV0IGNvbXAgPSBhbGxDb21wZXRpdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gY29tcGV0aXRvcklkKTtcclxuICAgIGFkZE5ld0NvbXBldGl0b3IoY29tcCk7XHJcbn1cclxuZnVuY3Rpb24gYWRkTmV3Q29tcGV0aXRvcihjb21wZXRpdG9yOiBjb21wZXRpdG9yRHRvKSB7XHJcbiAgICB2YXIgYzogbnVtYmVyID0gMDtcclxuICAgIHZhciByZXN1bHREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNcIik7XHJcbiAgICB2YXIgY29tcFRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wZXRpdG9yVGVtcGxhdGVcIik7XHJcbiAgICB2YXIgY29tcExpc3RJdGVtID0gKGNvbXBUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTExJRWxlbWVudCk7XHJcbiAgICBjb21wTGlzdEl0ZW0uaWQgPSBjb21wZXRpdG9yLmlkLnRvU3RyaW5nKCk7XHJcbiAgICBjb21wTGlzdEl0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1jb21wZXRpdG9ySWRcIiwgY29tcGV0aXRvci5pZC50b1N0cmluZygpKTtcclxuICAgIHZhciBzcGFuID0gY29tcExpc3RJdGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb21wZXRpdG9yLW5hbWVcIilbMF0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBzcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbXBldGl0b3IubmFtZSkpO1xyXG5cclxuICAgIHNwYW4gPSBjb21wTGlzdEl0ZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNhaWwtbnVtYmVyXCIpWzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgc3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb21wZXRpdG9yLnNhaWxOdW1iZXIpKTtcclxuICAgIGlmIChjb21wZXRpdG9yLmFsdGVybmF0aXZlU2FpbE51bWJlcikge1xyXG4gICAgICAgIHNwYW4gPSBjb21wTGlzdEl0ZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImFsdC1zYWlsLW51bWJlclwiKVswXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIChcIitjb21wZXRpdG9yLmFsdGVybmF0aXZlU2FpbE51bWJlcitcIilcIikpO1xyXG4gICAgICAgIHNwYW4uc3R5bGUuZGlzcGxheSA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3BhbiA9IGNvbXBMaXN0SXRlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmFjZS1wbGFjZVwiKVswXSBhcyBIVE1MRWxlbWVudDtcclxuICAgIHNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYy50b1N0cmluZygpKSk7XHJcblxyXG4gICAgdmFyIGRlbGV0ZUJ1dHRvbnMgPSBjb21wTGlzdEl0ZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbGV0ZS1idXR0b25cIik7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxldGVCdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uc1tpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbXBldGl0b3JJZFwiLCBjb21wZXRpdG9yLmlkLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBMaXN0SXRlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuICAgIHJlc3VsdERpdi5hcHBlbmRDaGlsZChjb21wTGlzdEl0ZW0pO1xyXG4gICAgY2FsY3VsYXRlUGxhY2VzKCk7XHJcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAkKGNvbXBMaXN0SXRlbSkub2Zmc2V0KCkudG9wIC0gMTUwXHJcbiAgICB9LCAzMDApO1xyXG5cclxuICAgICQoJyNuZXdDb21wZXRpdG9yJykudmFsKFwiXCIpO1xyXG4gICAgaW5pdGlhbGl6ZUF1dG9Db21wbGV0ZSgpO1xyXG4gICAgdXBkYXRlQnV0dG9uRm9vdGVyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFNjb3Jlc0ZpZWxkc1RvRm9ybShmb3JtOiBIVE1MRm9ybUVsZW1lbnQpIHtcclxuICAgIHZhciByZXN1bHRMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzXCIpO1xyXG4gICAgdmFyIHJlc3VsdEl0ZW1zID0gcmVzdWx0TGlzdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpXCIpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcmVzdWx0SXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBsaXN0SW5kZXggPSAoaSAtIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIGlucHV0LnR5cGUgPSBcImhpZGRlblwiO1xyXG4gICAgICAgIGlucHV0Lm5hbWUgPSBcIlNjb3Jlc1xcW1wiICsgbGlzdEluZGV4ICsgXCJcXF0uY29tcGV0aXRvcklkXCI7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSByZXN1bHRJdGVtc1tpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbXBldGl0b3JJZFwiKTtcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHJcbiAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgaW5wdXQubmFtZSA9IFwiU2NvcmVzXFxbXCIgKyBsaXN0SW5kZXggKyBcIlxcXS5wbGFjZVwiO1xyXG4gICAgICAgIGlmIChzaG91bGRDb21wS2VlcFNjb3JlKHJlc3VsdEl0ZW1zW2ldKSkge1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHJlc3VsdEl0ZW1zW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2VcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcblxyXG4gICAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIGlucHV0LnR5cGUgPSBcImhpZGRlblwiO1xyXG4gICAgICAgIGlucHV0Lm5hbWUgPSBcIlNjb3Jlc1xcW1wiICsgbGlzdEluZGV4ICsgXCJcXF0uY29kZVwiO1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gZ2V0Q29tcGV0aXRvckNvZGUocmVzdWx0SXRlbXNbaV0pO1xyXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5cclxuXHJcbiAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgaW5wdXQubmFtZSA9IFwiU2NvcmVzXFxbXCIgKyBsaXN0SW5kZXggKyBcIlxcXS5jb2RlUG9pbnRzU3RyaW5nXCI7XHJcbiAgICAgICAgaW5wdXQudmFsdWUgPSBnZXRDb21wZXRpdG9yQ29kZVBvaW50cyhyZXN1bHRJdGVtc1tpXSk7XHJcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVTY29yZXNGaWVsZHNGcm9tRm9ybShmb3JtOiBIVE1MRm9ybUVsZW1lbnQpIHtcclxuICAgIGZvcm0uZmluZChcIltuYW1lXj1TY29yZXNdXCIpLnJlbW92ZSgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQbGFjZXMoKSB7XHJcbiAgICB2YXIgcmVzdWx0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c1wiKTtcclxuICAgIHZhciByZXN1bHRJdGVtcyA9IHJlc3VsdExpc3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcclxuICAgIHZhciBzY29yZUNvdW50ID0gMTtcclxuICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSByZXN1bHRJdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBzcGFuID0gcmVzdWx0SXRlbXNbaV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInJhY2UtcGxhY2VcIilbMF07XHJcbiAgICAgICAgcmVzdWx0SXRlbXNbaV0uc2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZVwiLCBpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHZhciBvcmlnU2NvcmUgPSByZXN1bHRJdGVtc1tpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9yaWdpbmFsU2NvcmVcIik7XHJcbiAgICAgICAgaWYgKHNwYW4uaWQgIT0gXCJjb21wZXRpdG9yVGVtcGxhdGVcIikge1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkQ29tcEtlZXBTY29yZShyZXN1bHRJdGVtc1tpXSkgJiZcclxuICAgICAgICAgICAgICAgIG9yaWdTY29yZSAhPT0gXCIwXCIpIHtcclxuICAgICAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSAoc2NvcmVDb3VudCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdEl0ZW1zW2ldLnNldEF0dHJpYnV0ZShcImRhdGEtcGxhY2VcIiwgc2NvcmVDb3VudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIHNjb3JlQ291bnQrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBnZXRDb21wZXRpdG9yQ29kZShyZXN1bHRJdGVtc1tpXSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRJdGVtc1tpXS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaG93IG1hbnVhbCBlbnRyeSBpZiBuZWVkZWRcclxuICAgICAgICB2YXIgY29kZXBvaW50c2lucHV0ID0gcmVzdWx0SXRlbXNbaV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvZGUtcG9pbnRzXCIpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKHNob3VsZEhhdmVNYW51YWxFbnRyeShyZXN1bHRJdGVtc1tpXSkpIHtcclxuICAgICAgICAgICAgY29kZXBvaW50c2lucHV0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvZGVwb2ludHNpbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIGNvZGVwb2ludHNpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wZXRpdG9ySXNJblJlc3VsdHMoY29tcDogY29tcGV0aXRvckR0bykge1xyXG4gICAgdmFyIHJlc3VsdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNcIik7XHJcbiAgICB2YXIgcmVzdWx0SXRlbXMgPSByZXN1bHRMaXN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzdWx0SXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAocmVzdWx0SXRlbXNbaV0uZ2V0QXR0cmlidXRlKFwiZGF0YS1jb21wZXRpdG9ySWRcIilcclxuICAgICAgICAgICAgPT09IGNvbXAuaWQudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKCk6IEF1dG9jb21wbGV0ZVN1Z2dlc3Rpb25bXSB7XHJcbiAgICBjb25zdCBjb21wZXRpdG9yU3VnZ2VzdGlvbnM6IEF1dG9jb21wbGV0ZVN1Z2dlc3Rpb25bXSA9IFtdO1xyXG4gICAgY29uc29sZS5kZWJ1ZyhcImNoZWNraW5nIGZvciBjb21wcyBpbiByZXN1bHRzXCIpO1xyXG4gICAgYWxsQ29tcGV0aXRvcnMuZm9yRWFjaChjID0+IHtcclxuICAgICAgICBpZiAoIWNvbXBldGl0b3JJc0luUmVzdWx0cyhjKSkge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBjLnNhaWxOdW1iZXIgKyBcIiAtIFwiICsgYy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogY1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoYy5hbHRlcm5hdGl2ZVNhaWxOdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbXAudmFsdWUgPSBjLnNhaWxOdW1iZXIgKyBcIiAoIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBjLmFsdGVybmF0aXZlU2FpbE51bWJlciArIFwiICkgLSBcIiArIGMubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wZXRpdG9yU3VnZ2VzdGlvbnMucHVzaChjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBjb21wZXRpdG9yU3VnZ2VzdGlvbnM7XHJcbn1cclxuXHJcbnZhciBhbGxDb21wZXRpdG9yczogY29tcGV0aXRvckR0b1tdO1xyXG52YXIgY29tcGV0aXRvclN1Z2dlc3Rpb25zOiBBdXRvY29tcGxldGVTdWdnZXN0aW9uW107XHJcbmZ1bmN0aW9uIGdldENvbXBldGl0b3JzKGNsdWJJZDogc3RyaW5nLCBmbGVldElkOiBzdHJpbmcpIHtcclxuICAgIGlmIChjbHViSWQgJiYgZmxlZXRJZCkge1xyXG4gICAgICAgICQuZ2V0SlNPTihcIi9hcGkvQ29tcGV0aXRvcnNcIixcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2x1YklkOiBjbHViSWQsXHJcbiAgICAgICAgICAgICAgICBmbGVldElkOiBmbGVldElkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhOiBjb21wZXRpdG9yRHRvW10pIHtcclxuICAgICAgICAgICAgICAgIGFsbENvbXBldGl0b3JzID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVBdXRvQ29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVCdXR0b25Gb290ZXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG52YXIgc2VyaWVzT3B0aW9uczogc2VyaWVzRHRvW107XHJcbmZ1bmN0aW9uIGdldFNlcmllcyhjbHViSWQ6IHN0cmluZywgZGF0ZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoY2x1YklkICYmIGRhdGUpIHtcclxuICAgICAgICAkLmdldEpTT04oXCIvYXBpL1Nlcmllc1wiLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbHViSWQ6IGNsdWJJZCxcclxuICAgICAgICAgICAgICAgIGRhdGU6IGRhdGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGE6IHNlcmllc0R0b1tdKSB7XHJcbiAgICAgICAgICAgICAgICBzZXJpZXNPcHRpb25zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIHNldFNlcmllcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0U2VyaWVzKCkge1xyXG4gICAgbGV0IHNlcmllc1NlbGVjdCA9ICQoJyNzZXJpZXNJZHMnKSBhcyBKUXVlcnk7XHJcbiAgICB2YXIgc2VsZWN0ZWRTZXJpZXNWYWx1ZXMgPSBzZXJpZXNTZWxlY3QudmFsKCk7XHJcbiAgICBzZXJpZXNTZWxlY3QuZW1wdHkoKTtcclxuXHJcbiAgICAkLmVhY2goc2VyaWVzT3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBsZXQgc2VyaWVzID0gdmFsdWUgYXMgc2VyaWVzRHRvO1xyXG4gICAgICAgIHNlcmllc1NlbGVjdC5hcHBlbmQoJChcIjxvcHRpb24+PC9vcHRpb24+XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidmFsdWVcIiwgc2VyaWVzLmlkLnRvU3RyaW5nKCkpLnRleHQoc2VyaWVzLm5hbWUpKTtcclxuICAgIH0pO1xyXG4gICAgc2VyaWVzU2VsZWN0LnNlbGVjdHBpY2tlcignZGVzdHJveScpO1xyXG4gICAgc2VyaWVzU2VsZWN0LnNlbGVjdHBpY2tlcigpO1xyXG4gICAgc2VyaWVzU2VsZWN0LnZhbChzZWxlY3RlZFNlcmllc1ZhbHVlcyk7XHJcbiAgICBzZXJpZXNTZWxlY3Quc2VsZWN0cGlja2VyKCdyZWZyZXNoJyk7XHJcbn1cclxuXHJcbnZhciBhdXRvQ29tcGxldGVTZXR1cDogYm9vbGVhbiA9IGZhbHNlO1xyXG5mdW5jdGlvbiBpbml0aWFsaXplQXV0b0NvbXBsZXRlKCkge1xyXG4gICAgY29tcGV0aXRvclN1Z2dlc3Rpb25zID0gZ2V0U3VnZ2VzdGlvbnMoKTtcclxuICAgIGlmIChhdXRvQ29tcGxldGVTZXR1cCkge1xyXG4gICAgICAgICQoJyNuZXdDb21wZXRpdG9yJykuYXV0b2NvbXBsZXRlKCkuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG4gICAgJCgnI25ld0NvbXBldGl0b3InKS5hdXRvY29tcGxldGUoe1xyXG5cclxuICAgICAgICBsb29rdXA6IGNvbXBldGl0b3JTdWdnZXN0aW9ucyxcclxuICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gKHN1Z2dlc3Rpb246IEF1dG9jb21wbGV0ZVN1Z2dlc3Rpb24pIHtcclxuICAgICAgICAgICAgYWRkTmV3Q29tcGV0aXRvcihzdWdnZXN0aW9uLmRhdGEgYXMgY29tcGV0aXRvckR0byk7XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXV0b1NlbGVjdEZpcnN0OiB0cnVlLFxyXG4gICAgICAgIHRyaWdnZXJTZWxlY3RPblZhbGlkSW5wdXQ6IGZhbHNlLFxyXG4gICAgICAgIG5vQ2FjaGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgYXV0b0NvbXBsZXRlU2V0dXAgPSB0cnVlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUJ1dHRvbkZvb3RlcigpIHtcclxuICAgICQoJyNzY29yZUJ1dHRvbkRpdicpLmVtcHR5KCk7XHJcbiAgICBpZiAoYWxsQ29tcGV0aXRvcnMgJiYgYWxsQ29tcGV0aXRvcnMubGVuZ3RoICYmIGFsbENvbXBldGl0b3JzLmxlbmd0aCA8IDIxKSB7XHJcbiAgICAgICAgJCgnI3Njb3JlQnV0dG9uRm9vdGVyJykuc2hvdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcjc2NvcmVCdXR0b25Gb290ZXInKS5oaWRlKCk7XHJcbiAgICB9XHJcbiAgICBhbGxDb21wZXRpdG9ycy5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgIGxldCBzdHlsZSA9ICdidG4gJztcclxuICAgICAgICBsZXQgc2NyaXB0ID0gJyc7XHJcbiAgICAgICAgaWYgKCFjb21wZXRpdG9ySXNJblJlc3VsdHMoYykpIHtcclxuICAgICAgICAgICAgc3R5bGUgKz0gJ2J0bi1vdXRsaW5lLXByaW1hcnknO1xyXG4gICAgICAgICAgICBzY3JpcHQgPSAnd2luZG93LlNhaWxTY29yZXMuYWRkTmV3Q29tcGV0aXRvckJ5SWQoXFwnJyArXHJcbiAgICAgICAgICAgICAgICBjLmlkICsgJ1xcJyknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0eWxlICs9ICdidG4tcHJpbWFyeSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNzY29yZUJ1dHRvbkRpdicpLmFwcGVuZCgnPGJ1dHRvbiBjbGFzcz1cIicgKyBzdHlsZSArXHJcbiAgICAgICAgICAgICcgZGF0YS1pZD1cIicgKyBjLmlkICsgJ1wiIG9uY2xpY2s9XCInICsgc2NyaXB0ICtcclxuICAgICAgICAgICAgJ1wiID4gJyArIChjLnNhaWxOdW1iZXIgfHwgYy5hbHRlcm5hdGl2ZVNhaWxOdW1iZXIpICsgJyA8L2J1dHRvbj4nKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdXR0b25Gb290ZXIoKSB7XHJcbiAgICAkKCcjc2NvcmVCdXR0b25EaXYnKS5lbXB0eSgpO1xyXG4gICAgYWxsQ29tcGV0aXRvcnMuZm9yRWFjaChjID0+IHtcclxuICAgICAgICBsZXQgc3R5bGUgPSAnYnRuICc7XHJcbiAgICAgICAgbGV0IHNjcmlwdCA9ICcnO1xyXG4gICAgICAgIGlmICghY29tcGV0aXRvcklzSW5SZXN1bHRzKGMpKSB7XHJcbiAgICAgICAgICAgIHN0eWxlICs9ICdidG4tb3V0bGluZS1wcmltYXJ5JztcclxuICAgICAgICAgICAgc2NyaXB0ID0gJ3dpbmRvdy5TYWlsU2NvcmVzLmFkZE5ld0NvbXBldGl0b3JCeUlkKFxcJycgK1xyXG4gICAgICAgICAgICAgICAgYy5pZCArICdcXCcpJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZSArPSAnYnRuLXByaW1hcnknO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjc2NvcmVCdXR0b25EaXYnKS5hcHBlbmQoJzxidXR0b24gY2xhc3M9XCInICsgc3R5bGUgK1xyXG4gICAgICAgICAgICAnIGRhdGEtaWQ9XCInICsgYy5pZCArICdcIiBvbmNsaWNrPVwiJyArIHNjcmlwdCArXHJcbiAgICAgICAgICAgICdcIiA+ICcgKyAoYy5zYWlsTnVtYmVyIHx8IGMuYWx0ZXJuYXRpdmVTYWlsTnVtYmVyKSArICcgPC9idXR0b24+Jyk7XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbXBldGl0b3JDb2RlKGNvbXBMaXN0SXRlbTogSFRNTExJRWxlbWVudCkge1xyXG4gICAgY29uc3QgY29kZVRleHQgPSAoY29tcExpc3RJdGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWxlY3QtY29kZVwiKVswXSBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWU7XHJcbiAgICBpZiAoY29kZVRleHQgPT09IG5vQ29kZVN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvZGVUZXh0O1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbXBldGl0b3JDb2RlUG9pbnRzKGNvbXBMaXN0SXRlbTogSFRNTExJRWxlbWVudCkge1xyXG4gICAgY29uc3QgY29kZVBvaW50cyA9IChjb21wTGlzdEl0ZW0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvZGUtcG9pbnRzXCIpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgaWYgKGNvZGVQb2ludHMgPT09IG5vQ29kZVN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvZGVQb2ludHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3VsZENvbXBLZWVwU2NvcmUoY29tcExpc3RJdGVtOiBIVE1MTElFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBjb2RlVGV4dCA9XHJcbiAgICAgICAgKGNvbXBMaXN0SXRlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VsZWN0LWNvZGVcIilbMF0gYXMgSFRNTFNlbGVjdEVsZW1lbnQpXHJcbiAgICAgICAgLnZhbHVlO1xyXG4gICAgaWYgKGNvZGVUZXh0ID09PSBub0NvZGVTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGZ1bGxDb2RlT2JqID0gc2NvcmVDb2Rlcy5maWx0ZXIocyA9PiBzLm5hbWUgPT09IGNvZGVUZXh0KTtcclxuICAgIHJldHVybiAhIShmdWxsQ29kZU9ialswXS5wcmVzZXJ2ZVJlc3VsdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3VsZEhhdmVNYW51YWxFbnRyeShjb21wTGlzdEl0ZW06IEhUTUxMSUVsZW1lbnQpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGNvZGVUZXh0ID1cclxuICAgICAgICAoY29tcExpc3RJdGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWxlY3QtY29kZVwiKVswXSBhcyBIVE1MU2VsZWN0RWxlbWVudClcclxuICAgICAgICAgICAgLnZhbHVlO1xyXG4gICAgaWYgKGNvZGVUZXh0ID09PSBub0NvZGVTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBmdWxsQ29kZU9iaiA9IHNjb3JlQ29kZXMuZmlsdGVyKHMgPT4gcy5uYW1lID09PSBjb2RlVGV4dCk7XHJcbiAgICByZXR1cm4gKGZ1bGxDb2RlT2JqWzBdLmZvcm11bGEgPT0gXCJNQU5cIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyV2VhdGhlckZpZWxkcygpIHtcclxuICAgICQoXCIjd2VhdGhlckljb25cIikudmFsKFwiU2VsZWN0Li4uXCIpO1xyXG4gICAgJChcIiN3ZWF0aGVySWNvblwiKS5zZWxlY3RwaWNrZXIoXCJyZWZyZXNoXCIpO1xyXG4gICAgJChcIiN3ZWF0aGVyRGVzY3JpcHRpb25cIikudmFsKG51bGwpO1xyXG4gICAgJChcIiN3aW5kU3BlZWRcIikudmFsKG51bGwpO1xyXG4gICAgJChcIiN3aW5kR3VzdFwiKS52YWwobnVsbCk7XHJcbiAgICAkKFwiI3dpbmREaXJlY3Rpb25cIikudmFsKG51bGwpO1xyXG4gICAgJChcIiN0ZW1wZXJhdHVyZVwiKS52YWwobnVsbCk7XHJcbiAgICAkKFwiI2h1bWlkaXR5XCIpLnZhbChudWxsKTtcclxuICAgICQoXCIjY2xvdWRjb3ZlclwiKS52YWwobnVsbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvcHVsYXRlRW1wdHlXZWF0aGVyRmllbGRzKCkge1xyXG4gICAgdmFyIGluaXRpYWxzID0gJChcIiNjbHViSW5pdGlhbHNcIikudmFsKCk7XHJcbiAgICAkLmdldEpTT04oXCIvXCIgKyBpbml0aWFscyArXCIvd2VhdGhlci9jdXJyZW50L1wiLFxyXG4gICAgICAgIHt9LFxyXG4gICAgICAgIGZ1bmN0aW9uIChkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmljb24gJiYgJChcIiN3ZWF0aGVySWNvblwiKS52YWwobnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjd2VhdGhlckljb25cIikudmFsKGRhdGEuaWNvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgJChcIiN3ZWF0aGVySWNvblwiKS5zZWxlY3RwaWNrZXIoXCJyZWZyZXNoXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRlc2NyaXB0aW9uICYmICQoXCIjd2VhdGhlckRlc2NyaXB0aW9uXCIpLnZhbChudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiN3ZWF0aGVyRGVzY3JpcHRpb25cIikudmFsKGRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhLndpbmRTcGVlZCAmJiAkKFwiI3dpbmRTcGVlZFwiKS52YWwobnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjd2luZFNwZWVkXCIpLnZhbChkYXRhLndpbmRTcGVlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEud2luZEd1c3QgJiYgJChcIiN3aW5kR3VzdFwiKS52YWwobnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjd2luZEd1c3RcIikudmFsKGRhdGEud2luZEd1c3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhLndpbmREaXJlY3Rpb24gJiYgJChcIiN3aW5kRGlyZWN0aW9uXCIpLnZhbChudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiN3aW5kRGlyZWN0aW9uXCIpLnZhbChkYXRhLndpbmREaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnRlbXBlcmF0dXJlICYmICQoXCIjdGVtcGVyYXR1cmVcIikudmFsKG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3RlbXBlcmF0dXJlXCIpLnZhbChkYXRhLnRlbXBlcmF0dXJlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5odW1pZGl0eSAmJiAkKFwiI2h1bWlkaXR5XCIpLnZhbChudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiNodW1pZGl0eVwiKS52YWwoZGF0YS5odW1pZGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEuY2xvdWRDb3ZlclBlcmNlbnQgJiYgJChcIiNjbG91ZENvdmVyXCIpLnZhbChudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiNjbG91ZENvdmVyXCIpLnZhbChkYXRhLmNsb3VkQ292ZXJQZXJjZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=