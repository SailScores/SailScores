@page
@model SailScores.Web.Pages.Help.FaqModel
@{
    Layout = "/Pages/Help/_HelpLayout.cshtml";
    ViewData["Title"] = "FAQ";
}

<div class="faq-page">
    <h1 class="mb-4">@ViewData["Title"]</h1>
    <p class="lead">
        Answers to common questions about SailScores. If you do not find what you need,
        <a href="mailto:info@sailscores.com">contact us</a>.
    </p>

    <nav aria-label="FAQ Table of Contents" class="mb-4">
        <h2 class="h5">Sections</h2>
        <ul class="list-unstyled ms-0 h5">
            <li><a asp-page="/Help/FAQ" asp-fragment="general">General</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="setup">Setup</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="race-management">Race Management</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="series-events">Series &amp; Events</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="reporting">Reporting &amp; Export</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="troubleshooting">Troubleshooting &amp; Maintenance</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="contribution">Open Source &amp; Contribution</a></li>
            <li><a asp-page="/Help/FAQ" asp-fragment="support">Support &amp; Learning</a></li>
        </ul>
    </nav>

  <section id="general" class="mb-5">
      <h2 class="h3 fw-bold">General</h2>

      <details class="faq-details">
          <summary class="h4">What is SailScores?</summary>
          <div class="faq-details-content">
              <p>
                  SailScores is a web-based scoring for sailing clubs.
                  It helps scorekeepers manage series, calculate results, and publish
                  standings instantly—whether you're running a casual series or a
                  multi-day regatta with race documents and notices.
              </p>
          </div>
      </details>

      <details class="faq-details">
          <summary class="h4">What makes SailScores different?</summary>
          <div class="faq-details-content">
              <p>
                  It's built for speed, scorekeeper convenience, and to organize
                  a club's results. No need to keep track of
                  multiple spreadsheets or series files. (And we'll continue to
                  make it even faster and easier to use.)
              </p>
              <p>
                  SailScores was built from the ground up to keep shareable,
                  stable page URLs, so it's easy to integrate with other websites.
              </p>
          </div>
      </details>

      <details class="faq-details">
          <summary class="h4">Does SailScores work on phones and tablets?</summary>
          <div class="faq-details-content">
              <p>
                  Absolutely. You can score races from a laptop, tablet, or phone—right from
                  the dock or the committee boat. Just make sure you’re connected to the
                  internet and have a modern browser.
              </p>
          </div>
      </details>

      <details class="faq-details">
          <summary class="h4">Do I need an internet connection?</summary>
          <div class="faq-details-content">
              <p>
                  Yes. SailScores is cloud-based, so you’ll need an internet connection
                  to enter results and publish scores. Offline support is on our radar,
                  but not available yet.
              </p>
          </div>
      </details>
      <details class="faq-details">
          <summary class="h4">What scoring methods are supported?</summary>
          <div class="faq-details-content">
              <p>
                  SailScores supports a range of scoring systems:
                  <ul>
                      <li>Appendix A low point (with and without rule 5.3)</li>
                      <li>High Point Percentage</li>
                      <li>Cox-Sprague</li>
                      <li>Low Point Average</li>
                      <li>Appendix A with modified first place values</li>
                  </ul>
                  You can tailor all score codes to match
                  your club’s requirements, such as custom volunteer or DNC values.
              </p>
              <p>
                  SailScores is aligned with the 2025–2028 Racing Rules of Sailing,
                  including updates to rounding and scoring penalties.
              </p>
              <p><a href="mailto:info@sailscores.com">Reach out</a> if you need another method supported.</p>
          </div>
      </details>

      <details class="faq-details">
          <summary class="h4">When should I use a different scoring program?</summary>
          <div class="faq-details-content">
              <p>
                  If you need offline scoring, handicap calculations,
                  or specialized formats such as team or heat-based
                  racing, another tool might be better fit until we get those
                  features built here. But for one-design
                  racing, SailScores covers most scoring needs.
              </p>
              <p>
                  (While SailScores won't calculate handicap results, it can include
                  elapsed times in results. That can help clubs that calculate
                  handicap results in another system.)
              </p>
          </div>
      </details>
  </section>

    <section id="setup" class="mb-5">
        <h2 class="h3 fw-bold">Setup</h2>
        <details class="faq-details">
            <summary class="h4">How do I set up my club?</summary>
            <div class="faq-details-content">
                <p>
                    In order to keep race entry really fast, the initial club setup has a few steps:
                </p>
                <ol>
                    <li>
                        Request your club — Use the "Try it out" link at
                        the top of this page.
                    </li>
                    <li>
                        Once you get an email that things are ready, use the emailed link
                        to naivgate to the Club Admin page. That page will start with a
                        checklist of the key items that need to be configured
                        before your first race results are entered:
                        <ul>
                            <li>Boat Classes</li>
                            <li>Seasons</li>
                            <li>Series</li>
                            <li>Competitors</li>
                        </ul>
                        Whenever you see a Question mark icon, you can hover or touch to see tips
                        to get the best results.
                        <a class="text-primary"
                           data-bs-container="body"
                           data-bs-toggle="popover"
                           data-bs-placement="top"
                           data-bs-trigger="focus hover"
                           data-bs-content="Icons like this provide extra help during setup and result entry.">
                            <span class="far fa-question-circle"></span>
                        </a>
                    </li>
                    <li>
                        Assign scorekeepers — If others will help manage results, you
                        can give them access here.
                    </li>
                </ol>
                <p>
                    That’s it! You can always come back to adjust settings, add fleets, or tweak
                    scoring rules.
                </p>
            </div>
        </details>


        <details class="faq-details">
            <summary class="h4">What’s a season, and do I need to use those?</summary>
            <div class="faq-details-content">
                <p>
                    Yes—every series and regatta belongs to a season. Most of the
                    links to your club's results will include a season in the URL. This
                    helps keep years of results usable on SailScores.
                </p>
                <p>
                    Many clubs
                    use calendar years or hyphenated years for the southern
                    hemisphere (e.g. "25-26"). But you can define a date range that
                    fits your schedule. Pick an interval that will cover your series.
                    The same series name will often repeat each season.
                    <strong>
                        Make sure there's a season covering the
                        dates for any race that you'll enter. (You can add additional
                        seasons at any time.)
                    </strong>
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">How do I create a regatta?</summary>
            <div class="faq-details-content">
                <p>
                    Regattas are multi-day events with their own fleets,
                    competitors, and scoring rules. But they are still belong to a club.
                    So first create a club with the instructions above. Then,
                    to create the regatta:
                    <ul>
                        <li>
                            Make sure the regatta dates fall within an
                            existing season. If not, create a new season
                            first.
                        </li>
                        <li>
                            Go to the Club Admin page and scroll to the
                            “Regattas” section.
                        </li>
                        <li>
                            Click “New Regatta” and follow the prompts to
                            set up fleets, scoring, and competitors.
                        </li>
                    </ul>
                    <strong>
                        Once created, use the regatta page to create the fleets and races
                        for the event.
                    </strong>
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I run both series and regattas?</summary>
            <div class="faq-details-content">
                <p>
                    Absolutely. SailScores supports both long-running
                    series (like a summer club series) and short regattas.
                    Run them side by side within the same season.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can multiple people manage scoring?</summary>
            <div class="faq-details-content">
                <p>
                    Yes. Multiple accounts can share the scorekeeping responsibilities
                    within a club. They’ll be able to enter results, manage events,
                    and help keep things running smoothly.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Do competitors need accounts?</summary>
            <div class="faq-details-content">
                <p>
                    Nope. Competitors don’t need to log in to view
                    results. Only scorekeepers need accounts to
                    manage the site.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I test SailScores before going live?</summary>
            <div class="faq-details-content">
                <p>
                    Definitely. You can create a club and try out scoring,
                    fleets, and formats. It’s a great way to get familiar
                    with the system before race day.
                    <a href="mailto:info@SailScores.com">Let us know</a> if
                    you'd like some of the tests cleared out.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">
                Can I share results without listing my club
                publicly?
            </summary>
            <div class="faq-details-content">
                <p>
                    Yes. You can keep your club unlisted and still share
                    direct links to results with your members. It’s a good
                    option for testing or demonstrations. The links won't be
                    pushed to search engines, but they'll be freely accessible
                    to anyone with the link.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">
                Can I add our club's custom score codes?
            </summary>
            <div class="faq-details-content">
                <p>
                    Certainly. You can set custom calculations for the
                    standard codes, or you can create custom codes, such
                    "VOL - Volunteer Race Committee."
                </p>
            </div>
        </details>
    </section>

    <section id="race-management" class="mb-5">
        <h2 class="h3 fw-bold">Race Management</h2>

        <details class="faq-details">
            <summary class="h4">What can I do for the fastest result entry?</summary>
            <div class="faq-details-content">
                <p>
                    For small fleets, the buttons at the bottom of the race page are usually the
                    quickest way to add results. But as the fleet size grows, it can be faster
                    to dismiss the button panel and type partial sail numbers into the score
                    entry text box. If multiple competitors match your entry, tap or click
                    on the correct choice in the auto-complete list. Press enter to
                    start entering the next boat.
                </p>
                <p>
                    The race date is pre-populated and some of the weather fields are filled in
                    if you enter results on the day of racing.
                </p>
                <p>
                    If you have Supporter features enabled, two other fast methods of entering results
                    are available: click on the camera icon to use a picture of sail numbers to
                    enter results; or find the microphone icon to use voice input for sail numbers.
                    When using voice recognition, say a sail number or sailor name as it appears
                    in the competitor list. Pause briefly between entries. The letters of a score
                    code (e.g. "OCS"") will apply to the last added score.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">How do I register boats and crews for a Regatta?</summary>
            <div class="faq-details-content">
                <p>
                    Regattas can have multiple Fleets which will race and be scored independently.
                    After creating the regatta, use the regatta page to create and edit fleets.
                    A separate section of the regatta page will be dedicated to each fleet and the
                    competitors tab will have a button to edit the fleet.
                </p>
                <p>
                    When editing the fleet, existing competitors can be added or new competitors
                    created.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">How do I handle one-design vs. handicap fleets?</summary>
            <div class="faq-details-content">
                <p>
                    Currently, SailScores supports ranked finish order. You can make the handicap calculations
                    in another system.
                </p>
                <p>
                    SailScores will help capture and show elapsed and clock times for competitors if you
                    indicate that a race should "Track Times."
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">What’s the full workflow for entering race results?</summary>
            <div class="faq-details-content">
                <p>
                    We've created a quick start for assistant score keepers focused on race result entry, available in the
                    Getting Started section.
                </p>
                <p class="alert alert-warning">
                    <strong>TODO:</strong> Add a link to a Quick start for Assistant Scorekeepers in deepdive section.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">How do I publish provisional scores and manage protests?</summary>
            <div class="faq-details-content">
                <p>
                    Mark a race in a series as provisional to display the series scores with a note indicating
                    the scores are not final. When ready, update that race status to “Raced”. SailScores
                    automatically recalculates series results when a race is saved.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">How are ties broken?</summary>
            <div class="faq-details-content">
                <p>
                    Ties for most scoring methods follow World Sailing RRS Appendix A rules. A couple of
                    base scoring systems, such as <b>PWA Standard</b>, have different tie-breaking rules.
                </p>
            </div>
        </details>
    </section>

    <section id="series-events" class="mb-5">
        <h2 class="h3 fw-bold">Series &amp; Events</h2>

        <details class="faq-details">
            <summary class="h4">What’s the difference between a series and a regatta?</summary>
            <div class="faq-details-content">
                <p>
                    Any collection of races to be scored together is a "Series" in SailScores.
                    A regatta is an event, which will include a series for each fleet of boats
                    participating. Regatta home pages have a dedicated scoring page which
                    displays notices, documents for all and results for each fleet.
                </p>
                <p>
                    A regatta race will automatically include a result for every competitor
                    in the fleet, while a non-regatta series won't add results for anyone
                    that wasn't added explicitly. But scoring will assume DNC for missing
                    competitors.
                </p>
                <p>
                    When setting up or entering results for a regatta, make sure to use the
                    New Race and New Fleet buttons from the regatta scoring page. This will
                    establish the link to the event.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I set up overlapping series?</summary>
            <div class="faq-details-content">
                <p>
                    Yes. A race can belong to multiple series. When entering the race, select
                    all the series which include it. Use this function to help keep the competitor
                    statistics accurate.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">How does SailScores handle drops/discards?</summary>
            <div class="faq-details-content">
                <p>
                    Each scoring system has discard rules, describing the number of discards
                    after <i>X</i> races are sailed. A club can have many different scoring
                    systems set up. Typically, clubs will have a regatta scoring
                    system and a club sailing scoring system with different discard rules
                    and different custom score codes.
                </p>
            </div>
        </details>
    </section>

    <section id="reporting" class="mb-5">
        <h2 class="h3 fw-bold">Reporting &amp; Export</h2>

        <details class="faq-details">
            <summary class="h4">Does SailScores integrate with club websites?</summary>
            <div class="faq-details-content">
                <p>
                    Yes. You can link directly to results pages or embed them via iframe. Public
                    SailScores URLs are intended to be stable so they can be used to link
                    directly to the scores you want to share.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I export results?</summary>
            <div class="faq-details-content">
                <p>
                    In the lower right corner of a series results page there are buttons
                    for CSV and HTML export. Export to CSV for spreadsheets or HTML for
                    formatted pages to post.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I print official results?</summary>
            <div class="faq-details-content">
                <p>
                    Yes. Export HTML results and print those for the cleanest prints with
                    minimal headers and extra text.
                </p>
            </div>
        </details>
    </section>

    <section id="troubleshooting" class="mb-5">
        <h2 class="h3 fw-bold">Troubleshooting &amp; Maintenance</h2>

        <details class="faq-details">
            <summary class="h4">Why aren’t my scores saving correctly?</summary>
            <div class="faq-details-content">
                <p class="alert alert-warning">
                    If you encounter an error while using SailScores, try again to see if
                    the cause was temporary. Please
                    <a href="mailto:info@sailscores.com">reach out</a> and let us
                    know any details that might help us reproduce the error.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I back up my data?</summary>
            <div class="faq-details-content">
                <p class="alert alert-warning">
                    <strong>TODO:</strong> Document automated exports and retention policy.
                </p>
                <p>
                    Series results can be exported as CSV for backup from the series result
                    pages.
                </p>

            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">What happens to my data if I stop using SailScores?</summary>
            <div class="faq-details-content">
                <p>
                    SailScores data will be kept accessible for at least a year after
                    the most recent race activity. When cleaning up apparently abandoned clubs,
                    we will reach out to the registered scorekeepers to determine the
                    club's intent before removing data.
                </p>

            </div>
        </details>
    </section>

    <section id="contribution" class="mb-5">
        <h2 class="h3 fw-bold">Open Source &amp; Contribution</h2>

        <details class="faq-details">
            <summary class="h4">How can I report bugs or request features?</summary>
            <div class="faq-details-content">
                <p>Log an <a href="https://github.com/SailScores/SailScores/issues" target="_blank">
                  issue on GitHub</a> or <a href="mailto:info@SailScores.com">email
                    the team</a>.
                </p>
            </div>
        </details>

        <details class="faq-details">
            <summary class="h4">Can I contribute to development?</summary>
            <div class="faq-details-content">
                <p>Yes. SailScores welcomes feedback, code contributions, translations, and
                  documentation help. We are particularly eager to accept features that
                  improve the site for many users.
                </p>
            </div>
        </details>
    </section>

    <p class="mt-5">
        <strong>Still need help?</strong> <a href="mailto:info@SailScores.com">Reach out</a> with details.
        Screenshots and links to pages help us help you.
    </p>
</div>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        // $(function () {
        //     $('[data-bs-toggle="popover"]').popover()
        // })

        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))

        var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
        var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
          return new bootstrap.Popover(popoverTriggerEl)
        })

    </script>
}
